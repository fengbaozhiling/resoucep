!function(a){a.fn.countdown=function(b){var c={date:new Date,updateTime:1e3,htmlTemplate:"%{d}天%{h}时%{m}分%{s}秒",minus:!1,onChange:null,onComplete:null,onResume:null,onPause:null,leadingZero:!1,offset:null,direction:"down"},d=[].slice,e=Math.floor,f=36e5,g=864e5,h=/(%\{d\}|%\{h\}|%\{m\}|%\{s\})/g,i=/%\{d\}/,j=/%\{h\}/,k=/%\{m\}/,l=/%\{s\}/,m=function(a){var e,b=a||0,c=0,d=new Date;return b*=f,c=d.getTime()- -d.getTimezoneOffset()/60*f,e=d.setTime(c+b),new Date(e)},n=function(){var b,c,d,f,n,o,p,q,r,s,t,a=this,u="",v=a.data("jcdSettings");v&&(b=v.htmlTemplate,c=null===v.offset?new Date:m(v.offset),d=new Date(v.date),f="down"===v.direction?d.getTime()-c.getTime():c.getTime()-d.getTime(),n=f/g,o=e(n),p=24*(n-o),q=e(p),r=e(60*(p-q)),s=60*(p-q),t=e(60*(s-r)),v.leadingZero&&(10>o&&(o="0"+o),10>q&&(q="0"+q),10>r&&(r="0"+r),10>t&&(t="0"+t)),"down"===v.direction&&(d>=c||v.minus)?u=b.replace(i,o).replace(j,q).replace(k,r).replace(l,t):"up"===v.direction&&(c>=d||v.minus)?u=b.replace(i,o).replace(j,q).replace(k,r).replace(l,t):(u=b.replace(h,"00"),v.hasCompleted=!0),a.html(u),a.trigger("change",[v]),v.hasCompleted&&(a.trigger("complete.jcountdown"),window.clearInterval(v.timer)))},o={init:function(b){var f,d=a.extend({},c,b);return f=d.htmlTemplate,this.each(function(){var z,b=a(this),c={},o=null===d.offset?new Date:m(d.offset),p=new Date(d.date),q="down"===d.direction?p.getTime()-o.getTime():o.getTime()-p.getTime(),r=q/g,s=e(r),t=24*(r-s),u=e(t),v=e(60*(t-u)),w=60*(t-u),x=e(60*(w-v)),y="";d.onChange&&b.bind("change.jcountdown",d.onChange),d.onComplete&&b.bind("complete.jcountdown",d.onComplete),d.onPause&&b.bind("pause.jcountdown",d.onPause),d.onResume&&b.bind("resume.jcountdown",d.onResume),d.leadingZero&&(10>s&&(s="0"+s),10>u&&(u="0"+u),10>v&&(v="0"+v),10>x&&(x="0"+x)),c.hasCompleted=!1,"down"===d.direction&&(p>=o||d.minus)?y=f.replace(i,s).replace(j,u).replace(k,v).replace(l,x):"up"===d.direction&&(o>=p||d.minus)?y=f.replace(i,s).replace(j,u).replace(k,v).replace(l,x):(y=f.replace(h,"00"),c.hasCompleted=!0),c.originalContent=a(this).html(),c.date=d.date,c.leadingZero=d.leadingZero,c.updateTime=d.updateTime,c.direction=d.direction,c.template=d.htmlTemplate,c.htmlTemplate=d.htmlTemplate,c.minus=d.minus,c.offset=d.offset,c.onChange=d.onChange,c.onComplete=d.onComplete,c.onResume=d.onResume,c.onPause=d.onPause,c.hasCompleted||(z=a.proxy(n,b),c.timer=window.setInterval(z,c.updateTime)),b.data("jcdSettings",c),b.html(y),c.hasCompleted&&(b.trigger("complete.jcountdown"),window.clearInterval(c.timer))})},changeSettings:function(b){return this.each(function(){var d,f,o,p,q,r,s,t,u,v,w,x,z,c=a(this),y="";return c.data("jcdSettings")?(d=a.extend({},c.data("jcdSettings"),b),f=d.htmlTemplate,o=null===d.offset?new Date:m(d.offset),p=new Date(d.date),q="down"===d.direction?p.getTime()-o.getTime():o.getTime()-p.getTime(),r=q/g,s=e(r),t=24*(r-s),u=e(t),v=e(60*(t-u)),w=60*(t-u),x=e(60*(w-v)),c.unbind(".jcountdown"),window.clearInterval(d.timer),d.onChange&&c.bind("change.jcountdown",d.onChange),d.onComplete&&c.bind("complete.jcountdown",d.onComplete),d.onPause&&c.bind("pause.jcountdown",d.onPause),d.onResume&&c.bind("resume.jcountdown",d.onResume),"down"===d.direction&&(p>=o||d.minus)?y=f.replace(i,s).replace(j,u).replace(k,v).replace(l,x):"up"===d.direction&&(o>=p||d.minus)?y=f.replace(i,s).replace(j,u).replace(k,v).replace(l,x):(y=f.replace(h,"00"),d.hasCompleted=!0),z=a.proxy(n,c),d.timer=window.setInterval(z,d.updateTime),c.data("jcdSettings",d),d.hasCompleted&&(c.trigger("complete.jcountdown"),window.clearInterval(d.timer)),void 0):!0})},resume:function(){return this.each(function(){var c,d,f,o,p,q,r,s,t,u,v,w,x,b=a(this),y="";return(c=b.data("jcdSettings"))?(f=a.proxy(n,b),d=c.htmlTemplate,o=null===c.offset?new Date:m(c.offset),p=new Date(c.date),q="down"===c.direction?p.getTime()-o.getTime():o.getTime()-p.getTime(),r=q/g,s=e(r),t=24*(r-s),u=e(t),v=e(60*(t-u)),w=60*(t-u),x=e(60*(w-v)),"down"===c.direction&&(p>=o||c.minus)?y=d.replace(i,s).replace(j,u).replace(k,v).replace(l,x):"up"===c.direction&&(o>=p||c.minus)?y=d.replace(i,s).replace(j,u).replace(k,v).replace(l,x):(y=d.replace(h,"00"),c.hasCompleted=!0),c.timer=window.setInterval(f,c.updateTime),b.data("jcdSettings",c),b.trigger("resume.jcountdown"),b.html(y).trigger("change.jcountdown"),c.hasCompleted&&(b.trigger("complete.jcountdown"),window.clearInterval(c.timer)),void 0):!0})},pause:function(){return this.each(function(){var b=a(this),c=a.data(b[0],"jcdSettings");return c?(b.trigger("pause.jcountdown"),window.clearInterval(c.timer),void 0):!0})},complete:function(){return this.each(function(){var b=a(this),c=b.data("jcdSettings");return c?(window.clearInterval(c.timer),c.hasCompleted=!0,b.data("jcdSettings",c),b.trigger("complete.jcountdown"),void 0):!0})},destroy:function(){return this.each(function(){var c,b=a(this);return(c=b.data("jcdSettings"))?(b.unbind(".jcountdown"),b.html(c.originalContent),b.removeData("jcdSettings"),void 0):!0})},getSettings:function(b){var c,d=a(this[0]);return c=d.data("jcdSettings"),c?b?c[b]?c[b]:void 0:c:void 0}};return o[b]?o[b].apply(this,d.call(arguments,1)):"object"!==a.type(b)&&b?(a.error("Method "+b+" does not exist in the jCountdown Plugin"),void 0):o.init.apply(this,arguments)}}(jQuery);